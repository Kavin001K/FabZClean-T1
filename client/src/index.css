@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Poppins:wght@400;500;600;700;800;900&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --font-sans: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  --font-mono: "JetBrains Mono", "Fira Code", monospace;

  /* Primary & Accent Palette */
  --color-primary: 37 99 235; /* Primary Blue (#2563EB) */
  --color-accent: 20 184 166; /* Accent Teal (#14B8A6) */
  
  /* Semantic Colors */
  --color-success: 34 197 94;   /* Success Green (#22C55E) */
  --color-warning: 249 115 22;  /* Warning Orange (#F97316) */
  --color-destructive: 239 68 68; /* Error Red (#EF4444) */

  /* Light Mode Theme */
  --background: 249 250 251; /* Neutral Background (#F9FAFB) */
  --foreground: 55 65 81;   /* Neutral Text (#374151) */
  --card: 255 255 255;      /* Neutral UI Elements (#FFFFFF) */
  --card-foreground: var(--foreground);
  --popover: var(--card);
  --popover-foreground: var(--card-foreground);
  --muted: 229 231 235;      /* Lighter gray for muted backgrounds */
  --muted-foreground: 156 163 175; /* Mid-gray for muted text (#9CA3AF) */
  --border: 229 231 235; /* Corresponds to gray-200 */
  --input: 209 213 219;  /* Corresponds to gray-300 */
  --primary: var(--color-primary);
  --primary-foreground: 255 255 255;
  --secondary: 55 65 81; /* Dark gray for secondary buttons */
  --secondary-foreground: 255 255 255;
  --accent: var(--color-accent);
  --accent-foreground: 255 255 255;
  --destructive: var(--color-destructive);
  --destructive-foreground: 255 255 255;
  --success: var(--color-success);
  --success-foreground: 255 255 255;
  --warning: var(--color-warning);
  --warning-foreground: 255 255 255;
  --ring: var(--color-primary);
  --radius: 0.75rem;
}

.dark {
  /* Dark Mode Theme */
  --background: 17 24 39;    /* Dark Mode Background (#111827) */
  --foreground: 209 213 219; /* Lighter gray text */
  --card: 31 41 55;        /* Dark Mode UI Elements (#1F2937) */
  --card-foreground: var(--foreground);
  --popover: var(--card);
  --popover-foreground: var(--card-foreground);
  --muted: 55 65 81;        /* Darker gray for muted backgrounds */
  --muted-foreground: 156 163 175; /* Mid-gray for muted text (#9CA3AF) */
  --border: 55 65 81;       /* Darker border */
  --input: 75 85 99;        /* Darker input */
  --primary: var(--color-primary);
  --primary-foreground: 255 255 255;
  --secondary: 209 213 219; /* Light gray for secondary buttons */
  --secondary-foreground: 17 24 39;
  --accent: var(--color-accent);
  --accent-foreground: 255 255 255;
  --destructive: var(--color-destructive);
  --destructive-foreground: 255 255 255;
  --success: var(--color-success);
  --success-foreground: 255 255 255;
  --warning: var(--color-warning);
  --warning-foreground: 255 255 255;
  --ring: var(--color-primary);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
    font-family: var(--font-sans);
    font-size: var(--text-base);
    line-height: 1.5;
  }

  .font-display {
    font-family: var(--font-display);
  }

  /* Enhanced Typography Hierarchy */
  h1, .h1 {
    @apply text-h1;
  }

  h2, .h2 {
    @apply text-h2;
  }

  h3, .h3 {
    @apply text-h3;
  }

  p, .body {
    @apply text-body;
  }

  .small {
    @apply text-body-small;
  }

  .label {
    @apply text-label;
  }

  .caption {
    @apply text-caption;
  }

  /* Enhanced Button Base Styles */
  button {
    font-family: var(--font-sans);
    font-weight: var(--font-medium);
  }

  /* Enhanced Input Base Styles */
  input, textarea, select {
    font-family: var(--font-sans);
    font-size: var(--text-base);
  }

  /* Enhanced Card Base Styles */
  .card-base {
    @apply card;
  }

  /* Enhanced Interactive Elements */
  .interactive {
    @apply transition-all duration-200 ease-in-out;
  }

  .interactive:hover {
    @apply transform translateY(-1px);
  }

  .interactive:active {
    @apply transform translateY(0);
  }
}

@layer components {
  /* Main Content Area */
  .main-content {
    @apply transition-transform duration-300 ease-in-out;
  }

  /* Global Card Style */
  .card {
    @apply bg-card text-card-foreground rounded-xl border shadow-sm;
  }

  /* Global Button Style */
  .btn {
    @apply inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50;
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
  }
  .btn:hover {
    @apply opacity-90;
  }
  .btn:active {
    @apply scale-95;
  }

  /* Global Input Style */
  .input {
    @apply flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
    @apply transition-all;
  }

  .input:focus-visible {
    @apply ring-2 ring-ring ring-offset-2;
  }

  /* Interactive Table Rows */
  .interactive-row {
    @apply cursor-pointer transition-colors;
  }
  .interactive-row:hover {
    @apply bg-muted/50;
  }
}

@layer utilities {
  /* Animation Utilities */
  .animate-in {
    animation: enter 0.2s ease-out;
  }
  .animate-out {
    animation: exit 0.15s ease-in;
  }
  @keyframes enter {
    from { 
      opacity: 0;
      transform: scale(0.95);
    }
    to { 
      opacity: 1;
      transform: scale(1);
    }
  }
  @keyframes exit {
    from {
      opacity: 1;
      transform: scale(1);
    }
    to {
      opacity: 0;
      transform: scale(0.95);
    }
  }
}

/* Updated Color Palette */
  --primary: #2A64F5; /* Brand Blue */
  --primary-foreground: #FFFFFF;
  --secondary: #14B8A6; /* Accent Teal */
  --secondary-foreground: #FFFFFF;
  --background: #F8F9FA; /* Primary Background */
  --card: #FFFFFF; /* Secondary Background */
  --text-primary: #212529; /* Primary Text */
  --text-secondary: #6C757D; /* Secondary Text */
  --border: #DEE2E6; /* Borders & Dividers */
  --destructive: #DC3545; /* Danger Red */
  --success: #198754; /* Success Green */
  --warning: #FFC107; /* Warning Yellow */
  --info: #0D6EFD; /* Information Blue */

/* Updated Typography */
  --font-sans: "Inter", sans-serif;

/* Button Styles */
  .btn-primary {
    @apply bg-primary text-primary-foreground rounded-lg;
    transition: background-color 0.3s;
  }
  .btn-primary:hover {
    background-color: #1E4AB8; /* Darker Blue */
  }
  .btn-secondary {
    @apply bg-secondary text-secondary-foreground rounded-lg;
    transition: background-color 0.3s;
  }
  .btn-secondary:hover {
    background-color: #0F766E; /* Darker Teal */
  }

/* Enhanced Input Fields - Following Design System */
  .input-field {
    border: 1px solid var(--border);
    background: var(--card);
    border-radius: var(--radius-input);
    padding: var(--spacing-sm);
    font-family: var(--font-sans);
    font-size: var(--text-base);
    font-weight: var(--font-normal);
    color: var(--foreground);
    transition: all 0.2s ease;
    width: 100%;
  }
  
  .input-field:focus {
    outline: none;
    border-color: var(--input-focus);
    box-shadow: 0 0 0 3px rgba(42, 100, 245, 0.1);
  }
  
  .input-field:disabled {
    background: var(--muted);
    color: var(--muted-foreground);
    cursor: not-allowed;
  }
  
  .input-field.error {
    border-color: var(--destructive);
    box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.1);
  }
  
  .input-field::placeholder {
    color: var(--muted-foreground);
  }

/* Enhanced Card Styles - Following Design System */
  .card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    box-shadow: var(--shadow-sm);
    padding: var(--spacing-md);
    transition: all 0.2s ease;
  }
  
  .card:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-1px);
  }
  
  .card-interactive {
    cursor: pointer;
  }
  
  .card-interactive:hover {
    box-shadow: var(--shadow-lg);
    transform: translateY(-2px);
  }
  
  .card-interactive:active {
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
  }

/* Enhanced Typography Utilities - Following Design System */
  .text-h1 {
    font-family: var(--font-sans);
    font-size: var(--text-2xl);
    font-weight: var(--font-bold);
    line-height: 1.2;
    color: var(--foreground);
  }
  
  .text-h2 {
    font-family: var(--font-sans);
    font-size: var(--text-xl);
    font-weight: var(--font-semibold);
    line-height: 1.3;
    color: var(--foreground);
  }
  
  .text-h3 {
    font-family: var(--font-sans);
    font-size: var(--text-lg);
    font-weight: var(--font-medium);
    line-height: 1.4;
    color: var(--foreground);
  }
  
  .text-body {
    font-family: var(--font-sans);
    font-size: var(--text-base);
    font-weight: var(--font-normal);
    line-height: 1.5;
    color: var(--foreground);
  }
  
  .text-body-small {
    font-family: var(--font-sans);
    font-size: var(--text-sm);
    font-weight: var(--font-normal);
    line-height: 1.5;
    color: var(--foreground);
  }
  
  .text-label {
    font-family: var(--font-sans);
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    line-height: 1.4;
    color: var(--foreground);
  }
  
  .text-caption {
    font-family: var(--font-sans);
    font-size: var(--text-xs);
    font-weight: var(--font-normal);
    line-height: 1.4;
    color: var(--muted-foreground);
  }
  
  .text-button {
    font-family: var(--font-sans);
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    line-height: 1.4;
  }

/* Iconography */
  .icon {
    color: var(--primary);
    width: 1.25rem;
    height: 1.25rem;
  }
  
  .icon-sm {
    width: 1rem;
    height: 1rem;
  }
  
  .icon-lg {
    width: 1.5rem;
    height: 1.5rem;
  }
  
  .icon-xl {
    width: 2rem;
    height: 2rem;
  }

  /* Enhanced Layout & Spacing System - 8px based */
  .spacing-xs { margin: var(--spacing-xs); }
  .spacing-sm { margin: var(--spacing-sm); }
  .spacing-md { margin: var(--spacing-md); }
  .spacing-lg { margin: var(--spacing-lg); }
  .spacing-xl { margin: var(--spacing-xl); }
  
  .padding-xs { padding: var(--spacing-xs); }
  .padding-sm { padding: var(--spacing-sm); }
  .padding-md { padding: var(--spacing-md); }
  .padding-lg { padding: var(--spacing-lg); }
  .padding-xl { padding: var(--spacing-xl); }
  
  .gap-xs { gap: var(--spacing-xs); }
  .gap-sm { gap: var(--spacing-sm); }
  .gap-md { gap: var(--spacing-md); }
  .gap-lg { gap: var(--spacing-lg); }
  .gap-xl { gap: var(--spacing-xl); }
  
  /* Grid System */
  .grid {
    display: grid;
    gap: var(--spacing-sm);
  }
  
  .grid-cols-1 { grid-template-columns: repeat(1, 1fr); }
  .grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
  .grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
  .grid-cols-4 { grid-template-columns: repeat(4, 1fr); }
  .grid-cols-6 { grid-template-columns: repeat(6, 1fr); }
  .grid-cols-12 { grid-template-columns: repeat(12, 1fr); }
  
  /* Flexbox Utilities */
  .flex { display: flex; }
  .flex-col { flex-direction: column; }
  .flex-row { flex-direction: row; }
  .items-center { align-items: center; }
  .items-start { align-items: flex-start; }
  .items-end { align-items: flex-end; }
  .justify-center { justify-content: center; }
  .justify-between { justify-content: space-between; }
  .justify-start { justify-content: flex-start; }
  .justify-end { justify-content: flex-end; }
  
  /* Container Utilities */
  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--spacing-sm);
  }
  
  .container-sm {
    max-width: 640px;
    margin: 0 auto;
    padding: 0 var(--spacing-sm);
  }
  
  .container-lg {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 var(--spacing-sm);
  }

  /* Enhanced Button Styles - Following Design System */
  .btn-primary {
    background: var(--primary);
    color: var(--primary-foreground);
    border: none;
    border-radius: var(--radius-button);
    padding: var(--spacing-sm) var(--spacing-md);
    font-family: var(--font-sans);
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    transition: all 0.2s ease;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-xs);
  }
  
  .btn-primary:hover {
    background: var(--primary-hover);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(42, 100, 245, 0.3);
  }
  
  .btn-primary:active {
    transform: translateY(0);
    box-shadow: 0 2px 4px rgba(42, 100, 245, 0.2);
  }
  
  .btn-primary:disabled {
    background: var(--muted);
    color: var(--muted-foreground);
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
  }
  
  .btn-secondary {
    background: var(--secondary);
    color: var(--secondary-foreground);
    border: none;
    border-radius: var(--radius-button);
    padding: var(--spacing-sm) var(--spacing-md);
    font-family: var(--font-sans);
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    transition: all 0.2s ease;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-xs);
  }
  
  .btn-secondary:hover {
    background: var(--secondary-hover);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(20, 184, 166, 0.3);
  }
  
  .btn-secondary:active {
    transform: translateY(0);
    box-shadow: 0 2px 4px rgba(20, 184, 166, 0.2);
  }
  
  .btn-secondary:disabled {
    background: var(--muted);
    color: var(--muted-foreground);
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
  }
  
  .btn-outline {
    background: transparent;
    color: var(--primary);
    border: 1px solid var(--primary);
    border-radius: var(--radius-button);
    padding: var(--spacing-sm) var(--spacing-md);
    font-family: var(--font-sans);
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    transition: all 0.2s ease;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-xs);
  }
  
  .btn-outline:hover {
    background: rgba(42, 100, 245, 0.05);
    border-color: var(--primary-hover);
    color: var(--primary-hover);
  }
  
  .btn-text {
    background: transparent;
    color: var(--primary);
    border: none;
    border-radius: var(--radius-button);
    padding: var(--spacing-sm) var(--spacing-md);
    font-family: var(--font-sans);
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    transition: all 0.2s ease;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-xs);
  }
  
  .btn-text:hover {
    background: rgba(42, 100, 245, 0.05);
    color: var(--primary-hover);
  }

  /* Enhanced sidebar styling */
  .sidebar-brand {
    color: #2A64F5;
    font-weight: 700;
    font-size: 1.25rem;
  }

  /* KPI card enhancements */
  .kpi-value {
    color: #2A64F5;
    font-weight: 700;
    font-size: 2rem;
  }

  .kpi-positive {
    color: #198754;
  }

  .kpi-negative {
    color: #DC3545;
  }

  /* Status badges */
  .status-badge-success {
    background: #198754;
    color: #FFFFFF;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 500;
  }

  .status-badge-warning {
    background: #FFC107;
    color: #000000;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 500;
  }

  .status-badge-danger {
    background: #DC3545;
    color: #FFFFFF;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 500;
  }

  .status-badge-info {
    background: #0D6EFD;
    color: #FFFFFF;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 500;
  }

  /* Enhanced Animation Utilities */
  @keyframes slide-in-from-bottom {
    from { 
      opacity: 0; 
      transform: translateY(10px); 
    }
    to { 
      opacity: 1; 
      transform: translateY(0); 
    }
  }

  @keyframes slide-in-from-left {
    from { 
      opacity: 0; 
      transform: translateX(-10px); 
    }
    to { 
      opacity: 1; 
      transform: translateX(0); 
    }
  }

  @keyframes slide-in-from-right {
    from { 
      opacity: 0; 
      transform: translateX(10px); 
    }
    to { 
      opacity: 1; 
      transform: translateX(0); 
    }
  }

  @keyframes zoom-in {
    from { 
      opacity: 0; 
      transform: scale(0.9); 
    }
    to { 
      opacity: 1; 
      transform: scale(1); 
    }
  }

  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  /* Simplified dialog animations for better readability */
  [data-state="open"] {
    animation: fade-in 0.2s ease-out;
  }

  [data-state="closed"] {
    animation: fade-in 0.15s ease-out reverse;
  }

  /* Dialog overlay styling */
  [data-radix-dialog-overlay] {
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
  }

  /* Dialog content styling */
  [data-radix-dialog-content] {
    background-color: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(12px);
    color: #1F2937;
    border: 1px solid rgba(229, 231, 235, 0.8);
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  }

  /* Dialog close button styling */
  [data-radix-dialog-close] {
    color: #6B7280;
    background-color: transparent;
    border: none;
    transition: all 0.2s ease;
  }

  [data-radix-dialog-close]:hover {
    background-color: rgba(243, 244, 246, 0.8);
    color: #374151;
  }

  /* Subtle popup content animations */
  .animate-in {
    animation-fill-mode: both;
  }

  .fade-in-0 {
    animation-name: fade-in;
    animation-duration: 0.2s;
  }

  .slide-in-from-bottom-4 {
    animation-name: slide-in-from-bottom;
    animation-duration: 0.25s;
  }

  .slide-in-from-left-4 {
    animation-name: slide-in-from-left;
    animation-duration: 0.25s;
  }

  .slide-in-from-right-4 {
    animation-name: slide-in-from-right;
    animation-duration: 0.25s;
  }

  .zoom-in-95 {
    animation-name: zoom-in;
    animation-duration: 0.2s;
  }

  .duration-300 {
    animation-duration: 300ms;
  }

  .duration-500 {
    animation-duration: 500ms;
  }

  .duration-600 {
    animation-duration: 600ms;
  }

  .duration-700 {
    animation-duration: 700ms;
  }

  .duration-800 {
    animation-duration: 800ms;
  }

  .duration-900 {
    animation-duration: 900ms;
  }

/* --- CORE LAYOUT FIX --- */
/* This is the definitive fix for the blank space issue. */
/* It ensures the main content area correctly adjusts its margin */
/* based on the sidebar's state (expanded or collapsed). */
.main-content {
  @apply transition-all duration-300 ease-in-out;
  }
