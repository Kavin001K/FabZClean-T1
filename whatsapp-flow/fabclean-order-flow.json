{
    "version": "7.3",
    "data_api_version": "3.0",
    "routing_model": {
        "HELLO": [
            "ORDER"
        ],
        "ORDER": [
            "PICKUP"
        ],
        "PICKUP": [
            "DONE"
        ],
        "DONE": []
    },
    "screens": [
        {
            "id": "HELLO",
            "title": "Fab Clean",
            "data": {},
            "layout": {
                "type": "SingleColumnLayout",
                "children": [
                    {
                        "type": "Form",
                        "name": "hello_form",
                        "children": [
                            {
                                "type": "TextHeading",
                                "text": "Fab Clean ‚ú®"
                            },
                            {
                                "type": "TextSubheading",
                                "text": "Premium Laundry & Dry Cleaning"
                            },
                            {
                                "type": "TextBody",
                                "text": "üìç Pollachi ‚Ä¢ Kinathukadavu ‚Ä¢ Coimbatore\n‚è∞ Free pickup & delivery\nüíØ Quality guaranteed"
                            },
                            {
                                "type": "TextInput",
                                "label": "Your Name",
                                "name": "name",
                                "required": true,
                                "input-type": "text"
                            },
                            {
                                "type": "TextInput",
                                "label": "Mobile Number",
                                "name": "phone",
                                "required": true,
                                "input-type": "phone"
                            },
                            {
                                "type": "OptIn",
                                "label": "Send updates on WhatsApp",
                                "name": "optin",
                                "required": true
                            },
                            {
                                "type": "Footer",
                                "label": "Book Pickup",
                                "on-click-action": {
                                    "name": "navigate",
                                    "next": {
                                        "type": "screen",
                                        "name": "ORDER"
                                    },
                                    "payload": {
                                        "name": "${form.name}",
                                        "phone": "${form.phone}"
                                    }
                                }
                            }
                        ]
                    }
                ]
            }
        },
        {
            "id": "ORDER",
            "title": "Your Order",
            "data": {
                "name": {
                    "type": "string",
                    "__example__": "Karthik"
                },
                "phone": {
                    "type": "string",
                    "__example__": "9876543210"
                }
            },
            "layout": {
                "type": "SingleColumnLayout",
                "children": [
                    {
                        "type": "Form",
                        "name": "order_form",
                        "children": [
                            {
                                "type": "TextHeading",
                                "text": "What do you need? üëï"
                            },
                            {
                                "type": "RadioButtonsGroup",
                                "label": "Service",
                                "name": "service",
                                "required": true,
                                "data-source": [
                                    {
                                        "id": "wash",
                                        "title": "Wash & Iron (5-7 days)"
                                    },
                                    {
                                        "id": "iron",
                                        "title": "Ironing Only (3-5 days)"
                                    },
                                    {
                                        "id": "dry",
                                        "title": "Dry Cleaning (5-7 days)"
                                    },
                                    {
                                        "id": "express",
                                        "title": "Express (1-2 days) ‚ö°"
                                    }
                                ]
                            },
                            {
                                "type": "CheckboxGroup",
                                "label": "Items",
                                "name": "items",
                                "required": true,
                                "min-selected-items": 1,
                                "data-source": [
                                    {
                                        "id": "shirts",
                                        "title": "Shirts & T-Shirts"
                                    },
                                    {
                                        "id": "pants",
                                        "title": "Pants & Jeans"
                                    },
                                    {
                                        "id": "ethnic",
                                        "title": "Saree, Kurta, Ethnic"
                                    },
                                    {
                                        "id": "suits",
                                        "title": "Suit, Blazer, Coat"
                                    },
                                    {
                                        "id": "home",
                                        "title": "Bedsheet, Curtains"
                                    },
                                    {
                                        "id": "others",
                                        "title": "Other Items"
                                    }
                                ]
                            },
                            {
                                "type": "TextInput",
                                "label": "Pieces",
                                "name": "qty",
                                "required": false,
                                "input-type": "text",
                                "helper-text": "Approx count"
                            },
                            {
                                "type": "TextArea",
                                "label": "Notes",
                                "name": "notes",
                                "required": false,
                                "helper-text": "Stains, care instructions"
                            },
                            {
                                "type": "Footer",
                                "label": "Next",
                                "on-click-action": {
                                    "name": "navigate",
                                    "next": {
                                        "type": "screen",
                                        "name": "PICKUP"
                                    },
                                    "payload": {
                                        "name": "${data.name}",
                                        "phone": "${data.phone}",
                                        "service": "${form.service}",
                                        "items": "${form.items}",
                                        "qty": "${form.qty}",
                                        "notes": "${form.notes}"
                                    }
                                }
                            }
                        ]
                    }
                ]
            }
        },
        {
            "id": "PICKUP",
            "title": "Pickup Address",
            "data": {
                "name": {
                    "type": "string",
                    "__example__": "Karthik"
                },
                "phone": {
                    "type": "string",
                    "__example__": "9876543210"
                },
                "service": {
                    "type": "string",
                    "__example__": "wash"
                },
                "items": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "__example__": [
                        "shirts"
                    ]
                },
                "qty": {
                    "type": "string",
                    "__example__": "5"
                },
                "notes": {
                    "type": "string",
                    "__example__": ""
                }
            },
            "layout": {
                "type": "SingleColumnLayout",
                "children": [
                    {
                        "type": "Form",
                        "name": "pickup_form",
                        "children": [
                            {
                                "type": "TextHeading",
                                "text": "Pickup Location üìç"
                            },
                            {
                                "type": "TextInput",
                                "label": "Door/Flat No",
                                "name": "door",
                                "required": true,
                                "input-type": "text"
                            },
                            {
                                "type": "TextInput",
                                "label": "Street/Area",
                                "name": "street",
                                "required": true,
                                "input-type": "text"
                            },
                            {
                                "type": "TextInput",
                                "label": "Landmark",
                                "name": "landmark",
                                "required": false,
                                "input-type": "text",
                                "helper-text": "Near temple, school, etc"
                            },
                            {
                                "type": "Dropdown",
                                "label": "City",
                                "name": "city",
                                "required": true,
                                "data-source": [
                                    {
                                        "id": "pollachi",
                                        "title": "Pollachi"
                                    },
                                    {
                                        "id": "kinathukadavu",
                                        "title": "Kinathukadavu"
                                    },
                                    {
                                        "id": "coimbatore",
                                        "title": "Coimbatore"
                                    },
                                    {
                                        "id": "udumalpet",
                                        "title": "Udumalpet"
                                    },
                                    {
                                        "id": "valparai",
                                        "title": "Valparai"
                                    },
                                    {
                                        "id": "other",
                                        "title": "Other"
                                    }
                                ]
                            },
                            {
                                "type": "TextInput",
                                "label": "Pincode",
                                "name": "pincode",
                                "required": true,
                                "input-type": "text",
                                "helper-text": "e.g. 642001"
                            },
                            {
                                "type": "DatePicker",
                                "label": "Pickup Date",
                                "name": "date",
                                "required": true,
                                "min-date": "2025-12-22",
                                "max-date": "2025-12-28",
                                "unavailable-dates": [],
                                "helper-text": "Express: 2 days, Others: 7 days"
                            },
                            {
                                "type": "RadioButtonsGroup",
                                "label": "Time Slot",
                                "name": "slot",
                                "required": true,
                                "data-source": [
                                    {
                                        "id": "morning",
                                        "title": "Morning 8AM-12PM"
                                    },
                                    {
                                        "id": "afternoon",
                                        "title": "Afternoon 12PM-5PM"
                                    },
                                    {
                                        "id": "evening",
                                        "title": "Evening 5PM-8PM"
                                    }
                                ]
                            },
                            {
                                "type": "Footer",
                                "label": "Confirm Pickup",
                                "on-click-action": {
                                    "name": "data_exchange",
                                    "payload": {
                                        "action": "book",
                                        "name": "${data.name}",
                                        "phone": "${data.phone}",
                                        "service": "${data.service}",
                                        "items": "${data.items}",
                                        "qty": "${data.qty}",
                                        "notes": "${data.notes}",
                                        "door": "${form.door}",
                                        "street": "${form.street}",
                                        "landmark": "${form.landmark}",
                                        "city": "${form.city}",
                                        "pincode": "${form.pincode}",
                                        "date": "${form.date}",
                                        "slot": "${form.slot}"
                                    }
                                }
                            }
                        ]
                    }
                ]
            }
        },
        {
            "id": "DONE",
            "title": "Confirmed!",
            "terminal": true,
            "success": true,
            "data": {
                "order_id": {
                    "type": "string",
                    "__example__": "FZC-A1B2C3"
                },
                "summary": {
                    "type": "string",
                    "__example__": "Wash & Iron ‚Ä¢ 5 pcs"
                },
                "address": {
                    "type": "string",
                    "__example__": "12, Main St, Pollachi"
                },
                "pickup": {
                    "type": "string",
                    "__example__": "Tomorrow, Morning"
                },
                "estimate": {
                    "type": "string",
                    "__example__": "‚Çπ200-300"
                }
            },
            "layout": {
                "type": "SingleColumnLayout",
                "children": [
                    {
                        "type": "Form",
                        "name": "done_form",
                        "children": [
                            {
                                "type": "TextHeading",
                                "text": "Pickup Confirmed! üéâ"
                            },
                            {
                                "type": "TextCaption",
                                "text": "Order #${data.order_id}"
                            },
                            {
                                "type": "TextSubheading",
                                "text": "Order"
                            },
                            {
                                "type": "TextBody",
                                "text": "${data.summary}"
                            },
                            {
                                "type": "TextSubheading",
                                "text": "Pickup From"
                            },
                            {
                                "type": "TextBody",
                                "text": "${data.address}"
                            },
                            {
                                "type": "TextSubheading",
                                "text": "When"
                            },
                            {
                                "type": "TextBody",
                                "text": "${data.pickup}"
                            },
                            {
                                "type": "TextSubheading",
                                "text": "Estimate"
                            },
                            {
                                "type": "TextBody",
                                "text": "${data.estimate}"
                            },
                            {
                                "type": "TextBody",
                                "text": "‚úÖ Pay on delivery\nüìû We'll call before pickup"
                            },
                            {
                                "type": "TextCaption",
                                "text": "Fab Clean ‚Ä¢ 93630 59595"
                            },
                            {
                                "type": "TextCaption",
                                "text": "*Terms & Conditions Apply"
                            },
                            {
                                "type": "Footer",
                                "label": "Done",
                                "on-click-action": {
                                    "name": "complete",
                                    "payload": {
                                        "order_id": "${data.order_id}"
                                    }
                                }
                            }
                        ]
                    }
                ]
            }
        }
    ]
}